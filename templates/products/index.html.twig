{# templates/products/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Produits Cosmiques{% endblock %}

{% block body %}
<style>
    :root {
        --background-dark: #0d1117;
        --card-background: #1a2332;
        --title-pink: #e83cdd;
        --title-purple: #9333ea;
        --button-purple: #9333ea;
        --button-hover: #7928ca;
        --filter-hover: #2a3547;
        --filter-button: #1e2738;
    }

    .product-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem; 
    }

    .filters-section {
        width: 250px;
        padding: 1rem;
    }

    .products-section {
        flex: 1;
        padding: 1rem;
    }

    .filter-item, .product-item {
        padding: 0.5rem; 
    }
</style>

<div style="background-color: var(--background-dark); min-height: 100vh;">
    <h1 class="text-center text-5xl font-bold py-8" style="color: var(--title-pink)">Produits Cosmiques</h1>

    <div class="max-w-[1400px] mx-auto flex gap-2 items-stretch"> <!-- Utilisez items-stretch pour aligner les hauteurs -->
        {# Section Filtres (Gauche) #}
        <div class="filters-section flex-shrink-0"> <!-- Utilisez flex-shrink-0 pour empêcher la réduction de la largeur -->
            <div class="p-6 rounded-lg h-full" style="background-color: var(--card-background)"> <!-- Utilisez h-full pour que la hauteur suive -->
               <h2 class="text-2xl font-bold text-white mb-8" style="padding-left: 1rem;">Filtres</h2>

                <div class="mb-8 filter-item">
                    <h3 class="text-lg text-white mb-4">Gamme de Prix</h3>
                    <input type="range" min="0" max="1000" value="0" class="w-full h-2 rounded-lg appearance-none" 
                           style="background-color: var(--filter-button)">
                    <div class="flex justify-between mt-2 text-gray-300">
                        <span>0 UEC</span>
                        <span>1000 UEC</span>
                    </div>
                </div>

                <div class="mb-8 filter-item">
                    <h3 class="text-lg text-white mb-4">Catégorie</h3>
                    <div class="space-y-3">
                        <label class="flex items-center text-gray-300">
                            <input type="checkbox" class="mr-3"> Plantes Aliens
                        </label>
                        <label class="flex items-center text-gray-300">
                            <input type="checkbox" class="mr-3"> Armes Rares
                        </label>
                        <label class="flex items-center text-gray-300">
                            <input type="checkbox" class="mr-3"> Minéraux Exotiques
                        </label>
                        <label class="flex items-center text-gray-300">
                            <input type="checkbox" class="mr-3"> Pièces de Vaisseaux Spatiaux
                        </label>
                    </div>
                </div>

                <button class="w-full py-3 text-white rounded-md" 
                        style="background-color: var(--filter-button)">
                    Appliquer les Filtres
                </button>
            </div>
        </div>

        {# Section Produits (Droite) #}
        <div class="products-section">
            <div class="product-grid">
                {% for product in products %}
                    <article class="rounded-lg overflow-hidden p-4 product-item" style="background-color: var(--card-background)">
                        <img src="{{ asset(product.image) }}" alt="{{ product.name }}" class="w-full h-48 object-cover">
                        <div class="p-4">
                            <h3 class="text-xl mb-3" style="color: var(--title-purple)">{{ product.name }}</h3>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-2xl font-bold" style="color: var(--title-purple)">{{ product.price }} UEC</div>
                                <div class="flex items-center">
                                    <span style="color: #FFD700">★</span>
                                    <span style="color: #FFD700" class="ml-1">{{ product.rating }}</span>
                                </div>
                            </div>
                            <button class="w-full py-3 text-white rounded-md" 
                                    style="background-color: var(--button-purple)">
                                Voir Détails
                            </button>
                        </div>
                    </article>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
